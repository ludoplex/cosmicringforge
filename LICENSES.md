# License Tracking

This document tracks licenses for all tools and dependencies across the three stacks.

## License Compatibility Matrix

When combining components, verify license compatibility:

| Combining With → | MIT | BSD | Apache-2.0 | LGPL | GPL | Commercial |
|------------------|-----|-----|------------|------|-----|------------|
| **MIT** | ✓ | ✓ | ✓ | ✓ | ✓* | ✓ |
| **BSD** | ✓ | ✓ | ✓ | ✓ | ✓* | ✓ |
| **Apache-2.0** | ✓ | ✓ | ✓ | ✓ | ✓** | ✓ |
| **LGPL** | ✓ | ✓ | ✓ | ✓ | ✓ | ✓*** |
| **GPL** | ✓* | ✓* | ✓** | ✓ | ✓ | ✗ |

\* Result must be GPL  
\** Apache-2.0 compatible with GPL-3.0+ only  
\*** Must maintain dynamic linking or provide source

---

## Commercial Stack Components

| Component | License | Generated Code | Notes |
|-----------|---------|----------------|-------|
| IBM Rhapsody | Commercial | Customer owns | Qualification kits available |
| MATLAB/Simulink | Commercial | Customer owns | Embedded Coder for production |
| Simulink Coder | Commercial | Customer owns | Required for C/C++ generation |
| Embedded Coder | Commercial | Customer owns | Production-quality codegen |
| RTI Connext DDS | Commercial/Community | Varies | Type support from IDL |
| Qt Design Studio | Commercial/GPL | Depends on Qt license | QML/Qt Quick UI |

---

## FOSS Visual Stack Components

| Component | License | Generated Code | Source |
|-----------|---------|----------------|--------|
| StateSmith | Apache-2.0 | Zero dependencies, yours | [GitHub](https://github.com/StateSmith/StateSmith) |
| LVGL | MIT | N/A (runtime library) | [Docs](https://docs.lvgl.io/master/introduction/license.html) |
| EEZ Studio | **GPL-3.0** | See notes below | [GitHub](https://github.com/eez-open/studio) |
| protobuf-c | BSD-2-Clause | Follows protobuf | [GitHub](https://github.com/protobuf-c/protobuf-c) |
| OpenModelica | OSMC-PL (GPL-3.0 compatible) | Model-dependent | [OpenModelica](https://openmodelica.org) |

### EEZ Studio Generated Code Notes

Per the EEZ Studio README:
- EEZ does not claim ownership over code generated by EEZ Studio Build
- Generated files may be under MIT/BSD/PD depending on templates used
- **Verify per-template and per-project**
- Note: EEZ Studio can generate **C++ code** for embedded GUI functionality

---

## Strict Purist Stack Components

| Component | License | Ring | Source |
|-----------|---------|------|--------|
| SQLite | **Public Domain** | 0 | [sqlite.org](https://sqlite.org) |
| Lemon | **Public Domain** | 0 | [sqlite.org/lemon.html](https://sqlite.org/lemon.html) |
| CLIPS | **Public Domain** | 0 | [clipsrules.net](https://www.clipsrules.net) |
| CivetWeb | **MIT** | 0 | [GitHub](https://github.com/civetweb/civetweb) |
| Nuklear | **MIT/Public Domain** | 0 | [GitHub](https://github.com/Immediate-Mode-UI/Nuklear) |
| yyjson | **MIT** | 0 | [GitHub](https://github.com/ibireme/yyjson) |
| Cosmopolitan | **ISC** | 0 | [justine.lol](https://justine.lol/cosmopolitan/) |

---

## Networking Library Comparison

Critical for choosing HTTP/networking components:

| Library | License | Notes |
|---------|---------|-------|
| CivetWeb | **MIT** | Forked from last MIT Mongoose; recommended |
| Mongoose (Cesanta) | **GPLv2 / Commercial** | Dual-licensed; GPL affects distribution |
| libmicrohttpd | **LGPLv2.1+** | eCos option when TLS disabled |

**Recommendation**: Use CivetWeb for permissive licensing in commercial contexts.

---

## Generator Tool Requirements

Some generators have toolchain requirements that affect Ring classification:

| Generator | Ring | Build Requirements |
|-----------|------|-------------------|
| schemagen.c | 0 | C compiler only |
| Lemon | 0 | C compiler only |
| StateSmith | 2 | .NET runtime (tool is C#) |
| protobuf-c | 2 | C compiler, **C++ compiler**, protobuf, pkg-config |
| EEZ Studio | 2 | Node.js/Electron |
| rtiddsgen | 2 | Java runtime |

---

## Verification Commands

```sh
# Check for GPL in dependencies
grep -r "GPL" LICENSES.md

# Verify vendored licenses match expectations
for f in vendors/libs/*/LICENSE*; do
    echo "=== $f ==="
    head -5 "$f"
done

# SPDX identifier extraction (if using SPDX headers)
grep -rh "SPDX-License-Identifier" src/ | sort | uniq -c
```

---

## Adding New Dependencies

Before adding any dependency:

1. [ ] Identify the exact license (check LICENSE file, not just GitHub badge)
2. [ ] Verify compatibility with existing stack licenses
3. [ ] Document in this file with source link
4. [ ] For Ring-2 tools: document generated code licensing
5. [ ] For GPL/LGPL: document compliance strategy