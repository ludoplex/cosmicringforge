/* AUTO-GENERATED by apigen 1.0.0 â€” DO NOT EDIT */

#include "userservice_api.h"
#include <string.h>

static const char *error_strings[] = {
    "OK",
    "Invalid input",
    "Not found",
    "Internal error",
    "InvalidInput",
    "AlreadyExists",
    "NotFound",
    "InvalidInput",
    "NotFound",
    "NotFound",
};

static const UserService_route_t routes[] = {
    {"POST", "/users", UserService_create_user},
    {"GET", "/users/{id}", UserService_get_user},
    {"GET", "/users", UserService_list_users},
    {"PUT", "/users/{id}", UserService_update_user},
    {"DELETE", "/users/{id}", UserService_delete_user},
};
static const int route_count = 5;

void UserService_init(void) {
    /* API initialization */
}

const char *UserService_error_str(UserService_error_t err) {
    if (err >= 0 && err < UserService_ERR_COUNT) {
        return error_strings[err];
    }
    return "Unknown error";
}

const UserService_route_t *UserService_get_routes(int *count) {
    *count = route_count;
    return routes;
}

UserService_error_t UserService_dispatch(UserService_request_t *req, UserService_response_t *resp) {
    for (int i = 0; i < route_count; i++) {
        if (strcmp(routes[i].method, req->method) == 0 &&
            strcmp(routes[i].path, req->path) == 0) {
            return routes[i].handler(req, resp);
        }
    }
    resp->status_code = 404;
    return UserService_ERR_NOT_FOUND;
}
