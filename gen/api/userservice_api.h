/* AUTO-GENERATED by apigen 1.0.0 â€” DO NOT EDIT */
#ifndef USERSERVICE_API_H
#define USERSERVICE_API_H

#include <stdint.h>
#include <stdbool.h>
#include <stddef.h>

/* API: UserService v1.0 */

/* Types */
typedef struct {
    char* name;
    char* email;
    char* password;
} UserService_CreateUserRequest_t;

typedef struct {
    char* name;
    char* email;
} UserService_UpdateUserRequest_t;

typedef struct {
    uint64_t id;
    char* name;
    char* email;
    int64_t created_at;
} UserService_User_t;

typedef struct {
    UserService_User_t users;
    int32_t count;
    int32_t total;
} UserService_UserList_t;

/* Error codes */
typedef enum {
    UserService_OK = 0,
    UserService_ERR_INVALID_INPUT,
    UserService_ERR_NOT_FOUND,
    UserService_ERR_INTERNAL,
    UserService_ERR_ALREADY_EXISTS,
    UserService_ERR_COUNT
} UserService_error_t;

/* Request context */
typedef struct {
    const char *method;
    const char *path;
    const char *body;
    size_t body_len;
    void *user_data;
} UserService_request_t;

typedef struct {
    int status_code;
    char *body;
    size_t body_len;
    size_t body_cap;
} UserService_response_t;

/* Handler function type */
typedef UserService_error_t (*UserService_handler_fn)(UserService_request_t *req, UserService_response_t *resp);

/* Route table entry */
typedef struct {
    const char *method;
    const char *path;
    UserService_handler_fn handler;
} UserService_route_t;

/* API functions */
void UserService_init(void);
UserService_error_t UserService_dispatch(UserService_request_t *req, UserService_response_t *resp);
const UserService_route_t *UserService_get_routes(int *count);
const char *UserService_error_str(UserService_error_t err);

/* Endpoint handlers (implement these) */
UserService_error_t UserService_create_user(UserService_request_t *req, UserService_response_t *resp);
UserService_error_t UserService_get_user(UserService_request_t *req, UserService_response_t *resp);
UserService_error_t UserService_list_users(UserService_request_t *req, UserService_response_t *resp);
UserService_error_t UserService_update_user(UserService_request_t *req, UserService_response_t *resp);
UserService_error_t UserService_delete_user(UserService_request_t *req, UserService_response_t *resp);

#endif /* USERSERVICE_API_H */
