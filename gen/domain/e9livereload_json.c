/* AUTO-GENERATED by schemagen 2.0.0 â€” DO NOT EDIT */
/* JSON serialization (requires yyjson) */

#include "e9livereload_json.h"
#include <yyjson.h>
#include <string.h>

int E9LiveReloadConfig_to_json(const E9LiveReloadConfig *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "source_dir", obj->source_dir);
    yyjson_mut_obj_add_str(doc, root, "compiler", obj->compiler);
    yyjson_mut_obj_add_str(doc, root, "compiler_flags", obj->compiler_flags);
    yyjson_mut_obj_add_uint(doc, root, "watch_interval_ms", obj->watch_interval_ms);
    yyjson_mut_obj_add_int(doc, root, "enable_hot_patch", obj->enable_hot_patch);
    yyjson_mut_obj_add_int(doc, root, "enable_file_patch", obj->enable_file_patch);
    yyjson_mut_obj_add_uint(doc, root, "max_patch_size", obj->max_patch_size);
    yyjson_mut_obj_add_uint(doc, root, "max_pending_patches", obj->max_pending_patches);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int E9LiveReloadConfig_from_json(const char *json, E9LiveReloadConfig *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_source_dir = yyjson_obj_get(root, "source_dir");
    if (v_source_dir) strncpy(obj->source_dir, yyjson_get_str(v_source_dir), sizeof(obj->source_dir)-1);
    yyjson_val *v_compiler = yyjson_obj_get(root, "compiler");
    if (v_compiler) strncpy(obj->compiler, yyjson_get_str(v_compiler), sizeof(obj->compiler)-1);
    yyjson_val *v_compiler_flags = yyjson_obj_get(root, "compiler_flags");
    if (v_compiler_flags) strncpy(obj->compiler_flags, yyjson_get_str(v_compiler_flags), sizeof(obj->compiler_flags)-1);
    yyjson_val *v_watch_interval_ms = yyjson_obj_get(root, "watch_interval_ms");
    if (v_watch_interval_ms) obj->watch_interval_ms = yyjson_get_uint(v_watch_interval_ms);
    yyjson_val *v_enable_hot_patch = yyjson_obj_get(root, "enable_hot_patch");
    if (v_enable_hot_patch) obj->enable_hot_patch = yyjson_get_int(v_enable_hot_patch);
    yyjson_val *v_enable_file_patch = yyjson_obj_get(root, "enable_file_patch");
    if (v_enable_file_patch) obj->enable_file_patch = yyjson_get_int(v_enable_file_patch);
    yyjson_val *v_max_patch_size = yyjson_obj_get(root, "max_patch_size");
    if (v_max_patch_size) obj->max_patch_size = yyjson_get_uint(v_max_patch_size);
    yyjson_val *v_max_pending_patches = yyjson_obj_get(root, "max_pending_patches");
    if (v_max_pending_patches) obj->max_pending_patches = yyjson_get_uint(v_max_pending_patches);

    yyjson_doc_free(doc);
    return 0;
}

int E9PatchState_to_json(const E9PatchState *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "target_path", obj->target_path);
    yyjson_mut_obj_add_uint(doc, root, "target_mapped", obj->target_mapped);
    yyjson_mut_obj_add_uint(doc, root, "target_size", obj->target_size);
    yyjson_mut_obj_add_int(doc, root, "text_offset", obj->text_offset);
    yyjson_mut_obj_add_uint(doc, root, "text_rva", obj->text_rva);
    yyjson_mut_obj_add_uint(doc, root, "text_size", obj->text_size);
    yyjson_mut_obj_add_int(doc, root, "rdata_offset", obj->rdata_offset);
    yyjson_mut_obj_add_uint(doc, root, "rdata_rva", obj->rdata_rva);
    yyjson_mut_obj_add_uint(doc, root, "rdata_size", obj->rdata_size);
    yyjson_mut_obj_add_int(doc, root, "data_offset", obj->data_offset);
    yyjson_mut_obj_add_uint(doc, root, "data_rva", obj->data_rva);
    yyjson_mut_obj_add_uint(doc, root, "data_size", obj->data_size);
    yyjson_mut_obj_add_int(doc, root, "is_self_patch", obj->is_self_patch);
    yyjson_mut_obj_add_str(doc, root, "exe_path", obj->exe_path);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int E9PatchState_from_json(const char *json, E9PatchState *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_target_path = yyjson_obj_get(root, "target_path");
    if (v_target_path) strncpy(obj->target_path, yyjson_get_str(v_target_path), sizeof(obj->target_path)-1);
    yyjson_val *v_target_mapped = yyjson_obj_get(root, "target_mapped");
    if (v_target_mapped) obj->target_mapped = yyjson_get_uint(v_target_mapped);
    yyjson_val *v_target_size = yyjson_obj_get(root, "target_size");
    if (v_target_size) obj->target_size = yyjson_get_uint(v_target_size);
    yyjson_val *v_text_offset = yyjson_obj_get(root, "text_offset");
    if (v_text_offset) obj->text_offset = yyjson_get_int(v_text_offset);
    yyjson_val *v_text_rva = yyjson_obj_get(root, "text_rva");
    if (v_text_rva) obj->text_rva = yyjson_get_uint(v_text_rva);
    yyjson_val *v_text_size = yyjson_obj_get(root, "text_size");
    if (v_text_size) obj->text_size = yyjson_get_uint(v_text_size);
    yyjson_val *v_rdata_offset = yyjson_obj_get(root, "rdata_offset");
    if (v_rdata_offset) obj->rdata_offset = yyjson_get_int(v_rdata_offset);
    yyjson_val *v_rdata_rva = yyjson_obj_get(root, "rdata_rva");
    if (v_rdata_rva) obj->rdata_rva = yyjson_get_uint(v_rdata_rva);
    yyjson_val *v_rdata_size = yyjson_obj_get(root, "rdata_size");
    if (v_rdata_size) obj->rdata_size = yyjson_get_uint(v_rdata_size);
    yyjson_val *v_data_offset = yyjson_obj_get(root, "data_offset");
    if (v_data_offset) obj->data_offset = yyjson_get_int(v_data_offset);
    yyjson_val *v_data_rva = yyjson_obj_get(root, "data_rva");
    if (v_data_rva) obj->data_rva = yyjson_get_uint(v_data_rva);
    yyjson_val *v_data_size = yyjson_obj_get(root, "data_size");
    if (v_data_size) obj->data_size = yyjson_get_uint(v_data_size);
    yyjson_val *v_is_self_patch = yyjson_obj_get(root, "is_self_patch");
    if (v_is_self_patch) obj->is_self_patch = yyjson_get_int(v_is_self_patch);
    yyjson_val *v_exe_path = yyjson_obj_get(root, "exe_path");
    if (v_exe_path) strncpy(obj->exe_path, yyjson_get_str(v_exe_path), sizeof(obj->exe_path)-1);

    yyjson_doc_free(doc);
    return 0;
}

int E9PendingPatch_to_json(const E9PendingPatch *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_uint(doc, root, "id", obj->id);
    yyjson_mut_obj_add_str(doc, root, "source_file", obj->source_file);
    yyjson_mut_obj_add_str(doc, root, "function_name", obj->function_name);
    yyjson_mut_obj_add_int(doc, root, "target_type", obj->target_type);
    yyjson_mut_obj_add_uint(doc, root, "target_address", obj->target_address);
    yyjson_mut_obj_add_uint(doc, root, "old_bytes_size", obj->old_bytes_size);
    yyjson_mut_obj_add_uint(doc, root, "new_bytes_size", obj->new_bytes_size);
    yyjson_mut_obj_add_int(doc, root, "status", obj->status);
    yyjson_mut_obj_add_str(doc, root, "error_msg", obj->error_msg);
    yyjson_mut_obj_add_uint(doc, root, "timestamp", obj->timestamp);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int E9PendingPatch_from_json(const char *json, E9PendingPatch *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_id = yyjson_obj_get(root, "id");
    if (v_id) obj->id = yyjson_get_uint(v_id);
    yyjson_val *v_source_file = yyjson_obj_get(root, "source_file");
    if (v_source_file) strncpy(obj->source_file, yyjson_get_str(v_source_file), sizeof(obj->source_file)-1);
    yyjson_val *v_function_name = yyjson_obj_get(root, "function_name");
    if (v_function_name) strncpy(obj->function_name, yyjson_get_str(v_function_name), sizeof(obj->function_name)-1);
    yyjson_val *v_target_type = yyjson_obj_get(root, "target_type");
    if (v_target_type) obj->target_type = yyjson_get_int(v_target_type);
    yyjson_val *v_target_address = yyjson_obj_get(root, "target_address");
    if (v_target_address) obj->target_address = yyjson_get_uint(v_target_address);
    yyjson_val *v_old_bytes_size = yyjson_obj_get(root, "old_bytes_size");
    if (v_old_bytes_size) obj->old_bytes_size = yyjson_get_uint(v_old_bytes_size);
    yyjson_val *v_new_bytes_size = yyjson_obj_get(root, "new_bytes_size");
    if (v_new_bytes_size) obj->new_bytes_size = yyjson_get_uint(v_new_bytes_size);
    yyjson_val *v_status = yyjson_obj_get(root, "status");
    if (v_status) obj->status = yyjson_get_int(v_status);
    yyjson_val *v_error_msg = yyjson_obj_get(root, "error_msg");
    if (v_error_msg) strncpy(obj->error_msg, yyjson_get_str(v_error_msg), sizeof(obj->error_msg)-1);
    yyjson_val *v_timestamp = yyjson_obj_get(root, "timestamp");
    if (v_timestamp) obj->timestamp = yyjson_get_uint(v_timestamp);

    yyjson_doc_free(doc);
    return 0;
}

int E9LiveReloadSession_to_json(const E9LiveReloadSession *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_int(doc, root, "state", obj->state);
    yyjson_mut_obj_add_uint(doc, root, "total_changes_detected", obj->total_changes_detected);
    yyjson_mut_obj_add_uint(doc, root, "total_patches_generated", obj->total_patches_generated);
    yyjson_mut_obj_add_uint(doc, root, "total_patches_applied", obj->total_patches_applied);
    yyjson_mut_obj_add_uint(doc, root, "total_patches_failed", obj->total_patches_failed);
    yyjson_mut_obj_add_uint(doc, root, "last_change_time", obj->last_change_time);
    yyjson_mut_obj_add_uint(doc, root, "last_compile_time", obj->last_compile_time);
    yyjson_mut_obj_add_uint(doc, root, "last_patch_time", obj->last_patch_time);
    yyjson_mut_obj_add_str(doc, root, "cache_dir", obj->cache_dir);
    yyjson_mut_obj_add_uint(doc, root, "num_cached_objects", obj->num_cached_objects);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int E9LiveReloadSession_from_json(const char *json, E9LiveReloadSession *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_state = yyjson_obj_get(root, "state");
    if (v_state) obj->state = yyjson_get_int(v_state);
    yyjson_val *v_total_changes_detected = yyjson_obj_get(root, "total_changes_detected");
    if (v_total_changes_detected) obj->total_changes_detected = yyjson_get_uint(v_total_changes_detected);
    yyjson_val *v_total_patches_generated = yyjson_obj_get(root, "total_patches_generated");
    if (v_total_patches_generated) obj->total_patches_generated = yyjson_get_uint(v_total_patches_generated);
    yyjson_val *v_total_patches_applied = yyjson_obj_get(root, "total_patches_applied");
    if (v_total_patches_applied) obj->total_patches_applied = yyjson_get_uint(v_total_patches_applied);
    yyjson_val *v_total_patches_failed = yyjson_obj_get(root, "total_patches_failed");
    if (v_total_patches_failed) obj->total_patches_failed = yyjson_get_uint(v_total_patches_failed);
    yyjson_val *v_last_change_time = yyjson_obj_get(root, "last_change_time");
    if (v_last_change_time) obj->last_change_time = yyjson_get_uint(v_last_change_time);
    yyjson_val *v_last_compile_time = yyjson_obj_get(root, "last_compile_time");
    if (v_last_compile_time) obj->last_compile_time = yyjson_get_uint(v_last_compile_time);
    yyjson_val *v_last_patch_time = yyjson_obj_get(root, "last_patch_time");
    if (v_last_patch_time) obj->last_patch_time = yyjson_get_uint(v_last_patch_time);
    yyjson_val *v_cache_dir = yyjson_obj_get(root, "cache_dir");
    if (v_cache_dir) strncpy(obj->cache_dir, yyjson_get_str(v_cache_dir), sizeof(obj->cache_dir)-1);
    yyjson_val *v_num_cached_objects = yyjson_obj_get(root, "num_cached_objects");
    if (v_num_cached_objects) obj->num_cached_objects = yyjson_get_uint(v_num_cached_objects);

    yyjson_doc_free(doc);
    return 0;
}

int E9CompilerInvocation_to_json(const E9CompilerInvocation *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "source_path", obj->source_path);
    yyjson_mut_obj_add_str(doc, root, "object_path", obj->object_path);
    yyjson_mut_obj_add_int(doc, root, "exit_code", obj->exit_code);
    yyjson_mut_obj_add_uint(doc, root, "stdout_size", obj->stdout_size);
    yyjson_mut_obj_add_uint(doc, root, "stderr_size", obj->stderr_size);
    yyjson_mut_obj_add_uint(doc, root, "compile_time_ms", obj->compile_time_ms);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int E9CompilerInvocation_from_json(const char *json, E9CompilerInvocation *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_source_path = yyjson_obj_get(root, "source_path");
    if (v_source_path) strncpy(obj->source_path, yyjson_get_str(v_source_path), sizeof(obj->source_path)-1);
    yyjson_val *v_object_path = yyjson_obj_get(root, "object_path");
    if (v_object_path) strncpy(obj->object_path, yyjson_get_str(v_object_path), sizeof(obj->object_path)-1);
    yyjson_val *v_exit_code = yyjson_obj_get(root, "exit_code");
    if (v_exit_code) obj->exit_code = yyjson_get_int(v_exit_code);
    yyjson_val *v_stdout_size = yyjson_obj_get(root, "stdout_size");
    if (v_stdout_size) obj->stdout_size = yyjson_get_uint(v_stdout_size);
    yyjson_val *v_stderr_size = yyjson_obj_get(root, "stderr_size");
    if (v_stderr_size) obj->stderr_size = yyjson_get_uint(v_stderr_size);
    yyjson_val *v_compile_time_ms = yyjson_obj_get(root, "compile_time_ms");
    if (v_compile_time_ms) obj->compile_time_ms = yyjson_get_uint(v_compile_time_ms);

    yyjson_doc_free(doc);
    return 0;
}

int E9LiveReloadEvent_to_json(const E9LiveReloadEvent *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_int(doc, root, "event_type", obj->event_type);
    yyjson_mut_obj_add_uint(doc, root, "timestamp", obj->timestamp);
    yyjson_mut_obj_add_str(doc, root, "file_path", obj->file_path);
    yyjson_mut_obj_add_uint(doc, root, "patch_id", obj->patch_id);
    yyjson_mut_obj_add_str(doc, root, "function_name", obj->function_name);
    yyjson_mut_obj_add_uint(doc, root, "patch_address", obj->patch_address);
    yyjson_mut_obj_add_uint(doc, root, "patch_size", obj->patch_size);
    yyjson_mut_obj_add_int(doc, root, "error_code", obj->error_code);
    yyjson_mut_obj_add_str(doc, root, "error_msg", obj->error_msg);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int E9LiveReloadEvent_from_json(const char *json, E9LiveReloadEvent *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_event_type = yyjson_obj_get(root, "event_type");
    if (v_event_type) obj->event_type = yyjson_get_int(v_event_type);
    yyjson_val *v_timestamp = yyjson_obj_get(root, "timestamp");
    if (v_timestamp) obj->timestamp = yyjson_get_uint(v_timestamp);
    yyjson_val *v_file_path = yyjson_obj_get(root, "file_path");
    if (v_file_path) strncpy(obj->file_path, yyjson_get_str(v_file_path), sizeof(obj->file_path)-1);
    yyjson_val *v_patch_id = yyjson_obj_get(root, "patch_id");
    if (v_patch_id) obj->patch_id = yyjson_get_uint(v_patch_id);
    yyjson_val *v_function_name = yyjson_obj_get(root, "function_name");
    if (v_function_name) strncpy(obj->function_name, yyjson_get_str(v_function_name), sizeof(obj->function_name)-1);
    yyjson_val *v_patch_address = yyjson_obj_get(root, "patch_address");
    if (v_patch_address) obj->patch_address = yyjson_get_uint(v_patch_address);
    yyjson_val *v_patch_size = yyjson_obj_get(root, "patch_size");
    if (v_patch_size) obj->patch_size = yyjson_get_uint(v_patch_size);
    yyjson_val *v_error_code = yyjson_obj_get(root, "error_code");
    if (v_error_code) obj->error_code = yyjson_get_int(v_error_code);
    yyjson_val *v_error_msg = yyjson_obj_get(root, "error_msg");
    if (v_error_msg) strncpy(obj->error_msg, yyjson_get_str(v_error_msg), sizeof(obj->error_msg)-1);

    yyjson_doc_free(doc);
    return 0;
}

