/* AUTO-GENERATED by schemagen 2.0.0 â€” DO NOT EDIT */
/* SQLite bindings */

#include "procmem_sql.h"
#include <string.h>

int ProcHandle_create_table(sqlite3 *db) {
    const char *sql = "CREATE TABLE IF NOT EXISTS proc_handle (\n"
        "    pid INTEGER,\n"
        "    handle INTEGER,\n"
        "    flags INTEGER,\n"
        "    error_code INTEGER,\n"
        "    error_msg TEXT\n"
        ")";
    return sqlite3_exec(db, sql, NULL, NULL, NULL);
}

int ProcHandle_insert(sqlite3 *db, const ProcHandle *obj) {
    sqlite3_stmt *stmt;
    const char *sql = "INSERT INTO proc_handle (pid, handle, flags, error_code, error_msg) VALUES (?, ?, ?, ?, ?)";
    if (sqlite3_prepare_v2(db, sql, -1, &stmt, NULL) != SQLITE_OK) return -1;
    sqlite3_bind_int64(stmt, 1, obj->pid);
    sqlite3_bind_int64(stmt, 2, obj->handle);
    sqlite3_bind_int64(stmt, 3, obj->flags);
    sqlite3_bind_int64(stmt, 4, obj->error_code);
    sqlite3_bind_text(stmt, 5, obj->error_msg, -1, SQLITE_STATIC);
    int rc = sqlite3_step(stmt);
    sqlite3_finalize(stmt);
    return rc == SQLITE_DONE ? 0 : -1;
}

int ProcHandle_select_by_id(sqlite3 *db, int64_t id, ProcHandle *obj) {
    sqlite3_stmt *stmt;
    const char *sql = "SELECT * FROM proc_handle WHERE id = ?";
    if (sqlite3_prepare_v2(db, sql, -1, &stmt, NULL) != SQLITE_OK) return -1;
    sqlite3_bind_int64(stmt, 1, id);
    if (sqlite3_step(stmt) != SQLITE_ROW) { sqlite3_finalize(stmt); return -1; }
    obj->pid = sqlite3_column_int64(stmt, 0);
    obj->handle = sqlite3_column_int64(stmt, 1);
    obj->flags = sqlite3_column_int64(stmt, 2);
    obj->error_code = sqlite3_column_int64(stmt, 3);
    strncpy(obj->error_msg, (const char*)sqlite3_column_text(stmt, 4), sizeof(obj->error_msg)-1);
    sqlite3_finalize(stmt);
    return 0;
}

int MemRegion_create_table(sqlite3 *db) {
    const char *sql = "CREATE TABLE IF NOT EXISTS mem_region (\n"
        "    base INTEGER,\n"
        "    size INTEGER,\n"
        "    protect INTEGER,\n"
        "    type INTEGER,\n"
        "    name TEXT\n"
        ")";
    return sqlite3_exec(db, sql, NULL, NULL, NULL);
}

int MemRegion_insert(sqlite3 *db, const MemRegion *obj) {
    sqlite3_stmt *stmt;
    const char *sql = "INSERT INTO mem_region (base, size, protect, type, name) VALUES (?, ?, ?, ?, ?)";
    if (sqlite3_prepare_v2(db, sql, -1, &stmt, NULL) != SQLITE_OK) return -1;
    sqlite3_bind_int64(stmt, 1, obj->base);
    sqlite3_bind_int64(stmt, 2, obj->size);
    sqlite3_bind_int64(stmt, 3, obj->protect);
    sqlite3_bind_int64(stmt, 4, obj->type);
    sqlite3_bind_text(stmt, 5, obj->name, -1, SQLITE_STATIC);
    int rc = sqlite3_step(stmt);
    sqlite3_finalize(stmt);
    return rc == SQLITE_DONE ? 0 : -1;
}

int MemRegion_select_by_id(sqlite3 *db, int64_t id, MemRegion *obj) {
    sqlite3_stmt *stmt;
    const char *sql = "SELECT * FROM mem_region WHERE id = ?";
    if (sqlite3_prepare_v2(db, sql, -1, &stmt, NULL) != SQLITE_OK) return -1;
    sqlite3_bind_int64(stmt, 1, id);
    if (sqlite3_step(stmt) != SQLITE_ROW) { sqlite3_finalize(stmt); return -1; }
    obj->base = sqlite3_column_int64(stmt, 0);
    obj->size = sqlite3_column_int64(stmt, 1);
    obj->protect = sqlite3_column_int64(stmt, 2);
    obj->type = sqlite3_column_int64(stmt, 3);
    strncpy(obj->name, (const char*)sqlite3_column_text(stmt, 4), sizeof(obj->name)-1);
    sqlite3_finalize(stmt);
    return 0;
}

int PatchOp_create_table(sqlite3 *db) {
    const char *sql = "CREATE TABLE IF NOT EXISTS patch_op (\n"
        "    id INTEGER,\n"
        "    address INTEGER,\n"
        "    size INTEGER,\n"
        "    status INTEGER,\n"
        "    timestamp INTEGER\n"
        ")";
    return sqlite3_exec(db, sql, NULL, NULL, NULL);
}

int PatchOp_insert(sqlite3 *db, const PatchOp *obj) {
    sqlite3_stmt *stmt;
    const char *sql = "INSERT INTO patch_op (id, address, size, status, timestamp) VALUES (?, ?, ?, ?, ?)";
    if (sqlite3_prepare_v2(db, sql, -1, &stmt, NULL) != SQLITE_OK) return -1;
    sqlite3_bind_int64(stmt, 1, obj->id);
    sqlite3_bind_int64(stmt, 2, obj->address);
    sqlite3_bind_int64(stmt, 3, obj->size);
    sqlite3_bind_int64(stmt, 4, obj->status);
    sqlite3_bind_int64(stmt, 5, obj->timestamp);
    int rc = sqlite3_step(stmt);
    sqlite3_finalize(stmt);
    return rc == SQLITE_DONE ? 0 : -1;
}

int PatchOp_select_by_id(sqlite3 *db, int64_t id, PatchOp *obj) {
    sqlite3_stmt *stmt;
    const char *sql = "SELECT * FROM patch_op WHERE id = ?";
    if (sqlite3_prepare_v2(db, sql, -1, &stmt, NULL) != SQLITE_OK) return -1;
    sqlite3_bind_int64(stmt, 1, id);
    if (sqlite3_step(stmt) != SQLITE_ROW) { sqlite3_finalize(stmt); return -1; }
    obj->id = sqlite3_column_int64(stmt, 0);
    obj->address = sqlite3_column_int64(stmt, 1);
    obj->size = sqlite3_column_int64(stmt, 2);
    obj->status = sqlite3_column_int64(stmt, 3);
    obj->timestamp = sqlite3_column_int64(stmt, 4);
    sqlite3_finalize(stmt);
    return 0;
}

int PlatformInfo_create_table(sqlite3 *db) {
    const char *sql = "CREATE TABLE IF NOT EXISTS platform_info (\n"
        "    os INTEGER,\n"
        "    arch INTEGER,\n"
        "    page_size INTEGER,\n"
        "    can_remote INTEGER,\n"
        "    can_self INTEGER,\n"
        "    backend TEXT\n"
        ")";
    return sqlite3_exec(db, sql, NULL, NULL, NULL);
}

int PlatformInfo_insert(sqlite3 *db, const PlatformInfo *obj) {
    sqlite3_stmt *stmt;
    const char *sql = "INSERT INTO platform_info (os, arch, page_size, can_remote, can_self, backend) VALUES (?, ?, ?, ?, ?, ?)";
    if (sqlite3_prepare_v2(db, sql, -1, &stmt, NULL) != SQLITE_OK) return -1;
    sqlite3_bind_int64(stmt, 1, obj->os);
    sqlite3_bind_int64(stmt, 2, obj->arch);
    sqlite3_bind_int64(stmt, 3, obj->page_size);
    sqlite3_bind_int64(stmt, 4, obj->can_remote);
    sqlite3_bind_int64(stmt, 5, obj->can_self);
    sqlite3_bind_text(stmt, 6, obj->backend, -1, SQLITE_STATIC);
    int rc = sqlite3_step(stmt);
    sqlite3_finalize(stmt);
    return rc == SQLITE_DONE ? 0 : -1;
}

int PlatformInfo_select_by_id(sqlite3 *db, int64_t id, PlatformInfo *obj) {
    sqlite3_stmt *stmt;
    const char *sql = "SELECT * FROM platform_info WHERE id = ?";
    if (sqlite3_prepare_v2(db, sql, -1, &stmt, NULL) != SQLITE_OK) return -1;
    sqlite3_bind_int64(stmt, 1, id);
    if (sqlite3_step(stmt) != SQLITE_ROW) { sqlite3_finalize(stmt); return -1; }
    obj->os = sqlite3_column_int64(stmt, 0);
    obj->arch = sqlite3_column_int64(stmt, 1);
    obj->page_size = sqlite3_column_int64(stmt, 2);
    obj->can_remote = sqlite3_column_int64(stmt, 3);
    obj->can_self = sqlite3_column_int64(stmt, 4);
    strncpy(obj->backend, (const char*)sqlite3_column_text(stmt, 5), sizeof(obj->backend)-1);
    sqlite3_finalize(stmt);
    return 0;
}

