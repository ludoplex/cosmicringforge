/* AUTO-GENERATED by schemagen 2.0.0 â€” DO NOT EDIT */
/* JSON serialization (requires yyjson) */

#include "bddgen_json.h"
#include <yyjson.h>
#include <string.h>

int BddStep_to_json(const BddStep *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_uint(doc, root, "keyword", obj->keyword);
    yyjson_mut_obj_add_str(doc, root, "text", obj->text);
    yyjson_mut_obj_add_int(doc, root, "has_docstring", obj->has_docstring);
    yyjson_mut_obj_add_str(doc, root, "docstring", obj->docstring);
    yyjson_mut_obj_add_int(doc, root, "has_datatable", obj->has_datatable);
    yyjson_mut_obj_add_int(doc, root, "datatable_rows", obj->datatable_rows);
    yyjson_mut_obj_add_int(doc, root, "datatable_cols", obj->datatable_cols);
    yyjson_mut_obj_add_int(doc, root, "line_number", obj->line_number);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddStep_from_json(const char *json, BddStep *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_keyword = yyjson_obj_get(root, "keyword");
    if (v_keyword) obj->keyword = yyjson_get_uint(v_keyword);
    yyjson_val *v_text = yyjson_obj_get(root, "text");
    if (v_text) strncpy(obj->text, yyjson_get_str(v_text), sizeof(obj->text)-1);
    yyjson_val *v_has_docstring = yyjson_obj_get(root, "has_docstring");
    if (v_has_docstring) obj->has_docstring = yyjson_get_int(v_has_docstring);
    yyjson_val *v_docstring = yyjson_obj_get(root, "docstring");
    if (v_docstring) strncpy(obj->docstring, yyjson_get_str(v_docstring), sizeof(obj->docstring)-1);
    yyjson_val *v_has_datatable = yyjson_obj_get(root, "has_datatable");
    if (v_has_datatable) obj->has_datatable = yyjson_get_int(v_has_datatable);
    yyjson_val *v_datatable_rows = yyjson_obj_get(root, "datatable_rows");
    if (v_datatable_rows) obj->datatable_rows = yyjson_get_int(v_datatable_rows);
    yyjson_val *v_datatable_cols = yyjson_obj_get(root, "datatable_cols");
    if (v_datatable_cols) obj->datatable_cols = yyjson_get_int(v_datatable_cols);
    yyjson_val *v_line_number = yyjson_obj_get(root, "line_number");
    if (v_line_number) obj->line_number = yyjson_get_int(v_line_number);

    yyjson_doc_free(doc);
    return 0;
}

int BddDataCell_to_json(const BddDataCell *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_int(doc, root, "row", obj->row);
    yyjson_mut_obj_add_int(doc, root, "col", obj->col);
    yyjson_mut_obj_add_str(doc, root, "value", obj->value);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddDataCell_from_json(const char *json, BddDataCell *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_row = yyjson_obj_get(root, "row");
    if (v_row) obj->row = yyjson_get_int(v_row);
    yyjson_val *v_col = yyjson_obj_get(root, "col");
    if (v_col) obj->col = yyjson_get_int(v_col);
    yyjson_val *v_value = yyjson_obj_get(root, "value");
    if (v_value) strncpy(obj->value, yyjson_get_str(v_value), sizeof(obj->value)-1);

    yyjson_doc_free(doc);
    return 0;
}

int BddScenario_to_json(const BddScenario *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_int(doc, root, "step_count", obj->step_count);
    yyjson_mut_obj_add_int(doc, root, "is_outline", obj->is_outline);
    yyjson_mut_obj_add_int(doc, root, "example_count", obj->example_count);
    yyjson_mut_obj_add_str(doc, root, "tags", obj->tags);
    yyjson_mut_obj_add_int(doc, root, "line_number", obj->line_number);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddScenario_from_json(const char *json, BddScenario *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_step_count = yyjson_obj_get(root, "step_count");
    if (v_step_count) obj->step_count = yyjson_get_int(v_step_count);
    yyjson_val *v_is_outline = yyjson_obj_get(root, "is_outline");
    if (v_is_outline) obj->is_outline = yyjson_get_int(v_is_outline);
    yyjson_val *v_example_count = yyjson_obj_get(root, "example_count");
    if (v_example_count) obj->example_count = yyjson_get_int(v_example_count);
    yyjson_val *v_tags = yyjson_obj_get(root, "tags");
    if (v_tags) strncpy(obj->tags, yyjson_get_str(v_tags), sizeof(obj->tags)-1);
    yyjson_val *v_line_number = yyjson_obj_get(root, "line_number");
    if (v_line_number) obj->line_number = yyjson_get_int(v_line_number);

    yyjson_doc_free(doc);
    return 0;
}

int BddBackground_to_json(const BddBackground *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_int(doc, root, "step_count", obj->step_count);
    yyjson_mut_obj_add_int(doc, root, "line_number", obj->line_number);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddBackground_from_json(const char *json, BddBackground *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_step_count = yyjson_obj_get(root, "step_count");
    if (v_step_count) obj->step_count = yyjson_get_int(v_step_count);
    yyjson_val *v_line_number = yyjson_obj_get(root, "line_number");
    if (v_line_number) obj->line_number = yyjson_get_int(v_line_number);

    yyjson_doc_free(doc);
    return 0;
}

int BddExamples_to_json(const BddExamples *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_int(doc, root, "row_count", obj->row_count);
    yyjson_mut_obj_add_int(doc, root, "col_count", obj->col_count);
    yyjson_mut_obj_add_str(doc, root, "tags", obj->tags);
    yyjson_mut_obj_add_int(doc, root, "line_number", obj->line_number);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddExamples_from_json(const char *json, BddExamples *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_row_count = yyjson_obj_get(root, "row_count");
    if (v_row_count) obj->row_count = yyjson_get_int(v_row_count);
    yyjson_val *v_col_count = yyjson_obj_get(root, "col_count");
    if (v_col_count) obj->col_count = yyjson_get_int(v_col_count);
    yyjson_val *v_tags = yyjson_obj_get(root, "tags");
    if (v_tags) strncpy(obj->tags, yyjson_get_str(v_tags), sizeof(obj->tags)-1);
    yyjson_val *v_line_number = yyjson_obj_get(root, "line_number");
    if (v_line_number) obj->line_number = yyjson_get_int(v_line_number);

    yyjson_doc_free(doc);
    return 0;
}

int BddFeature_to_json(const BddFeature *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_str(doc, root, "description", obj->description);
    yyjson_mut_obj_add_int(doc, root, "scenario_count", obj->scenario_count);
    yyjson_mut_obj_add_int(doc, root, "has_background", obj->has_background);
    yyjson_mut_obj_add_str(doc, root, "tags", obj->tags);
    yyjson_mut_obj_add_str(doc, root, "language", obj->language);
    yyjson_mut_obj_add_int(doc, root, "line_number", obj->line_number);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddFeature_from_json(const char *json, BddFeature *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_description = yyjson_obj_get(root, "description");
    if (v_description) strncpy(obj->description, yyjson_get_str(v_description), sizeof(obj->description)-1);
    yyjson_val *v_scenario_count = yyjson_obj_get(root, "scenario_count");
    if (v_scenario_count) obj->scenario_count = yyjson_get_int(v_scenario_count);
    yyjson_val *v_has_background = yyjson_obj_get(root, "has_background");
    if (v_has_background) obj->has_background = yyjson_get_int(v_has_background);
    yyjson_val *v_tags = yyjson_obj_get(root, "tags");
    if (v_tags) strncpy(obj->tags, yyjson_get_str(v_tags), sizeof(obj->tags)-1);
    yyjson_val *v_language = yyjson_obj_get(root, "language");
    if (v_language) strncpy(obj->language, yyjson_get_str(v_language), sizeof(obj->language)-1);
    yyjson_val *v_line_number = yyjson_obj_get(root, "line_number");
    if (v_line_number) obj->line_number = yyjson_get_int(v_line_number);

    yyjson_doc_free(doc);
    return 0;
}

int BddStepPattern_to_json(const BddStepPattern *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "pattern", obj->pattern);
    yyjson_mut_obj_add_str(doc, root, "function_name", obj->function_name);
    yyjson_mut_obj_add_int(doc, root, "param_count", obj->param_count);
    yyjson_mut_obj_add_str(doc, root, "param_types", obj->param_types);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddStepPattern_from_json(const char *json, BddStepPattern *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_pattern = yyjson_obj_get(root, "pattern");
    if (v_pattern) strncpy(obj->pattern, yyjson_get_str(v_pattern), sizeof(obj->pattern)-1);
    yyjson_val *v_function_name = yyjson_obj_get(root, "function_name");
    if (v_function_name) strncpy(obj->function_name, yyjson_get_str(v_function_name), sizeof(obj->function_name)-1);
    yyjson_val *v_param_count = yyjson_obj_get(root, "param_count");
    if (v_param_count) obj->param_count = yyjson_get_int(v_param_count);
    yyjson_val *v_param_types = yyjson_obj_get(root, "param_types");
    if (v_param_types) strncpy(obj->param_types, yyjson_get_str(v_param_types), sizeof(obj->param_types)-1);

    yyjson_doc_free(doc);
    return 0;
}

int BddTestResult_to_json(const BddTestResult *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "scenario_name", obj->scenario_name);
    yyjson_mut_obj_add_int(doc, root, "step_index", obj->step_index);
    yyjson_mut_obj_add_uint(doc, root, "status", obj->status);
    yyjson_mut_obj_add_int(doc, root, "duration_us", obj->duration_us);
    yyjson_mut_obj_add_str(doc, root, "error_message", obj->error_message);
    yyjson_mut_obj_add_int(doc, root, "line_number", obj->line_number);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddTestResult_from_json(const char *json, BddTestResult *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_scenario_name = yyjson_obj_get(root, "scenario_name");
    if (v_scenario_name) strncpy(obj->scenario_name, yyjson_get_str(v_scenario_name), sizeof(obj->scenario_name)-1);
    yyjson_val *v_step_index = yyjson_obj_get(root, "step_index");
    if (v_step_index) obj->step_index = yyjson_get_int(v_step_index);
    yyjson_val *v_status = yyjson_obj_get(root, "status");
    if (v_status) obj->status = yyjson_get_uint(v_status);
    yyjson_val *v_duration_us = yyjson_obj_get(root, "duration_us");
    if (v_duration_us) obj->duration_us = yyjson_get_int(v_duration_us);
    yyjson_val *v_error_message = yyjson_obj_get(root, "error_message");
    if (v_error_message) strncpy(obj->error_message, yyjson_get_str(v_error_message), sizeof(obj->error_message)-1);
    yyjson_val *v_line_number = yyjson_obj_get(root, "line_number");
    if (v_line_number) obj->line_number = yyjson_get_int(v_line_number);

    yyjson_doc_free(doc);
    return 0;
}

int BddParseState_to_json(const BddParseState *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_int(doc, root, "feature_count", obj->feature_count);
    yyjson_mut_obj_add_int(doc, root, "total_scenarios", obj->total_scenarios);
    yyjson_mut_obj_add_int(doc, root, "total_steps", obj->total_steps);
    yyjson_mut_obj_add_int(doc, root, "current_line", obj->current_line);
    yyjson_mut_obj_add_int(doc, root, "error_code", obj->error_code);
    yyjson_mut_obj_add_str(doc, root, "error_msg", obj->error_msg);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddParseState_from_json(const char *json, BddParseState *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_feature_count = yyjson_obj_get(root, "feature_count");
    if (v_feature_count) obj->feature_count = yyjson_get_int(v_feature_count);
    yyjson_val *v_total_scenarios = yyjson_obj_get(root, "total_scenarios");
    if (v_total_scenarios) obj->total_scenarios = yyjson_get_int(v_total_scenarios);
    yyjson_val *v_total_steps = yyjson_obj_get(root, "total_steps");
    if (v_total_steps) obj->total_steps = yyjson_get_int(v_total_steps);
    yyjson_val *v_current_line = yyjson_obj_get(root, "current_line");
    if (v_current_line) obj->current_line = yyjson_get_int(v_current_line);
    yyjson_val *v_error_code = yyjson_obj_get(root, "error_code");
    if (v_error_code) obj->error_code = yyjson_get_int(v_error_code);
    yyjson_val *v_error_msg = yyjson_obj_get(root, "error_msg");
    if (v_error_msg) strncpy(obj->error_msg, yyjson_get_str(v_error_msg), sizeof(obj->error_msg)-1);

    yyjson_doc_free(doc);
    return 0;
}

int BddGenConfig_to_json(const BddGenConfig *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "input_path", obj->input_path);
    yyjson_mut_obj_add_str(doc, root, "output_dir", obj->output_dir);
    yyjson_mut_obj_add_str(doc, root, "test_framework", obj->test_framework);
    yyjson_mut_obj_add_int(doc, root, "generate_runner", obj->generate_runner);
    yyjson_mut_obj_add_int(doc, root, "generate_skeletons", obj->generate_skeletons);
    yyjson_mut_obj_add_int(doc, root, "strict_mode", obj->strict_mode);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int BddGenConfig_from_json(const char *json, BddGenConfig *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_input_path = yyjson_obj_get(root, "input_path");
    if (v_input_path) strncpy(obj->input_path, yyjson_get_str(v_input_path), sizeof(obj->input_path)-1);
    yyjson_val *v_output_dir = yyjson_obj_get(root, "output_dir");
    if (v_output_dir) strncpy(obj->output_dir, yyjson_get_str(v_output_dir), sizeof(obj->output_dir)-1);
    yyjson_val *v_test_framework = yyjson_obj_get(root, "test_framework");
    if (v_test_framework) strncpy(obj->test_framework, yyjson_get_str(v_test_framework), sizeof(obj->test_framework)-1);
    yyjson_val *v_generate_runner = yyjson_obj_get(root, "generate_runner");
    if (v_generate_runner) obj->generate_runner = yyjson_get_int(v_generate_runner);
    yyjson_val *v_generate_skeletons = yyjson_obj_get(root, "generate_skeletons");
    if (v_generate_skeletons) obj->generate_skeletons = yyjson_get_int(v_generate_skeletons);
    yyjson_val *v_strict_mode = yyjson_obj_get(root, "strict_mode");
    if (v_strict_mode) obj->strict_mode = yyjson_get_int(v_strict_mode);

    yyjson_doc_free(doc);
    return 0;
}

