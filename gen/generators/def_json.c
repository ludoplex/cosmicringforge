/* AUTO-GENERATED by schemagen 2.0.0 â€” DO NOT EDIT */
/* JSON serialization (requires yyjson) */

#include "def_json.h"
#include <yyjson.h>
#include <string.h>

int DefConstant_to_json(const DefConstant *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_uint(doc, root, "value_type", obj->value_type);
    yyjson_mut_obj_add_int(doc, root, "int_value", obj->int_value);
    yyjson_mut_obj_add_real(doc, root, "float_value", obj->float_value);
    yyjson_mut_obj_add_str(doc, root, "string_value", obj->string_value);
    yyjson_mut_obj_add_str(doc, root, "expr_value", obj->expr_value);
    yyjson_mut_obj_add_str(doc, root, "doc_comment", obj->doc_comment);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefConstant_from_json(const char *json, DefConstant *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_value_type = yyjson_obj_get(root, "value_type");
    if (v_value_type) obj->value_type = yyjson_get_uint(v_value_type);
    yyjson_val *v_int_value = yyjson_obj_get(root, "int_value");
    if (v_int_value) obj->int_value = yyjson_get_int(v_int_value);
    yyjson_val *v_float_value = yyjson_obj_get(root, "float_value");
    if (v_float_value) obj->float_value = yyjson_get_real(v_float_value);
    yyjson_val *v_string_value = yyjson_obj_get(root, "string_value");
    if (v_string_value) strncpy(obj->string_value, yyjson_get_str(v_string_value), sizeof(obj->string_value)-1);
    yyjson_val *v_expr_value = yyjson_obj_get(root, "expr_value");
    if (v_expr_value) strncpy(obj->expr_value, yyjson_get_str(v_expr_value), sizeof(obj->expr_value)-1);
    yyjson_val *v_doc_comment = yyjson_obj_get(root, "doc_comment");
    if (v_doc_comment) strncpy(obj->doc_comment, yyjson_get_str(v_doc_comment), sizeof(obj->doc_comment)-1);

    yyjson_doc_free(doc);
    return 0;
}

int DefEnumValue_to_json(const DefEnumValue *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_int(doc, root, "value", obj->value);
    yyjson_mut_obj_add_int(doc, root, "auto_value", obj->auto_value);
    yyjson_mut_obj_add_str(doc, root, "string_repr", obj->string_repr);
    yyjson_mut_obj_add_str(doc, root, "doc_comment", obj->doc_comment);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefEnumValue_from_json(const char *json, DefEnumValue *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_value = yyjson_obj_get(root, "value");
    if (v_value) obj->value = yyjson_get_int(v_value);
    yyjson_val *v_auto_value = yyjson_obj_get(root, "auto_value");
    if (v_auto_value) obj->auto_value = yyjson_get_int(v_auto_value);
    yyjson_val *v_string_repr = yyjson_obj_get(root, "string_repr");
    if (v_string_repr) strncpy(obj->string_repr, yyjson_get_str(v_string_repr), sizeof(obj->string_repr)-1);
    yyjson_val *v_doc_comment = yyjson_obj_get(root, "doc_comment");
    if (v_doc_comment) strncpy(obj->doc_comment, yyjson_get_str(v_doc_comment), sizeof(obj->doc_comment)-1);

    yyjson_doc_free(doc);
    return 0;
}

int DefEnum_to_json(const DefEnum *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_str(doc, root, "prefix", obj->prefix);
    yyjson_mut_obj_add_int(doc, root, "value_count", obj->value_count);
    yyjson_mut_obj_add_str(doc, root, "underlying_type", obj->underlying_type);
    yyjson_mut_obj_add_int(doc, root, "generate_xmacro", obj->generate_xmacro);
    yyjson_mut_obj_add_int(doc, root, "generate_strings", obj->generate_strings);
    yyjson_mut_obj_add_str(doc, root, "doc_comment", obj->doc_comment);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefEnum_from_json(const char *json, DefEnum *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_prefix = yyjson_obj_get(root, "prefix");
    if (v_prefix) strncpy(obj->prefix, yyjson_get_str(v_prefix), sizeof(obj->prefix)-1);
    yyjson_val *v_value_count = yyjson_obj_get(root, "value_count");
    if (v_value_count) obj->value_count = yyjson_get_int(v_value_count);
    yyjson_val *v_underlying_type = yyjson_obj_get(root, "underlying_type");
    if (v_underlying_type) strncpy(obj->underlying_type, yyjson_get_str(v_underlying_type), sizeof(obj->underlying_type)-1);
    yyjson_val *v_generate_xmacro = yyjson_obj_get(root, "generate_xmacro");
    if (v_generate_xmacro) obj->generate_xmacro = yyjson_get_int(v_generate_xmacro);
    yyjson_val *v_generate_strings = yyjson_obj_get(root, "generate_strings");
    if (v_generate_strings) obj->generate_strings = yyjson_get_int(v_generate_strings);
    yyjson_val *v_doc_comment = yyjson_obj_get(root, "doc_comment");
    if (v_doc_comment) strncpy(obj->doc_comment, yyjson_get_str(v_doc_comment), sizeof(obj->doc_comment)-1);

    yyjson_doc_free(doc);
    return 0;
}

int DefFlagValue_to_json(const DefFlagValue *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_int(doc, root, "bit_position", obj->bit_position);
    yyjson_mut_obj_add_int(doc, root, "explicit_value", obj->explicit_value);
    yyjson_mut_obj_add_str(doc, root, "string_repr", obj->string_repr);
    yyjson_mut_obj_add_str(doc, root, "doc_comment", obj->doc_comment);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefFlagValue_from_json(const char *json, DefFlagValue *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_bit_position = yyjson_obj_get(root, "bit_position");
    if (v_bit_position) obj->bit_position = yyjson_get_int(v_bit_position);
    yyjson_val *v_explicit_value = yyjson_obj_get(root, "explicit_value");
    if (v_explicit_value) obj->explicit_value = yyjson_get_int(v_explicit_value);
    yyjson_val *v_string_repr = yyjson_obj_get(root, "string_repr");
    if (v_string_repr) strncpy(obj->string_repr, yyjson_get_str(v_string_repr), sizeof(obj->string_repr)-1);
    yyjson_val *v_doc_comment = yyjson_obj_get(root, "doc_comment");
    if (v_doc_comment) strncpy(obj->doc_comment, yyjson_get_str(v_doc_comment), sizeof(obj->doc_comment)-1);

    yyjson_doc_free(doc);
    return 0;
}

int DefFlags_to_json(const DefFlags *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_str(doc, root, "prefix", obj->prefix);
    yyjson_mut_obj_add_int(doc, root, "flag_count", obj->flag_count);
    yyjson_mut_obj_add_str(doc, root, "underlying_type", obj->underlying_type);
    yyjson_mut_obj_add_int(doc, root, "generate_xmacro", obj->generate_xmacro);
    yyjson_mut_obj_add_int(doc, root, "generate_has_flag", obj->generate_has_flag);
    yyjson_mut_obj_add_int(doc, root, "generate_to_string", obj->generate_to_string);
    yyjson_mut_obj_add_str(doc, root, "doc_comment", obj->doc_comment);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefFlags_from_json(const char *json, DefFlags *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_prefix = yyjson_obj_get(root, "prefix");
    if (v_prefix) strncpy(obj->prefix, yyjson_get_str(v_prefix), sizeof(obj->prefix)-1);
    yyjson_val *v_flag_count = yyjson_obj_get(root, "flag_count");
    if (v_flag_count) obj->flag_count = yyjson_get_int(v_flag_count);
    yyjson_val *v_underlying_type = yyjson_obj_get(root, "underlying_type");
    if (v_underlying_type) strncpy(obj->underlying_type, yyjson_get_str(v_underlying_type), sizeof(obj->underlying_type)-1);
    yyjson_val *v_generate_xmacro = yyjson_obj_get(root, "generate_xmacro");
    if (v_generate_xmacro) obj->generate_xmacro = yyjson_get_int(v_generate_xmacro);
    yyjson_val *v_generate_has_flag = yyjson_obj_get(root, "generate_has_flag");
    if (v_generate_has_flag) obj->generate_has_flag = yyjson_get_int(v_generate_has_flag);
    yyjson_val *v_generate_to_string = yyjson_obj_get(root, "generate_to_string");
    if (v_generate_to_string) obj->generate_to_string = yyjson_get_int(v_generate_to_string);
    yyjson_val *v_doc_comment = yyjson_obj_get(root, "doc_comment");
    if (v_doc_comment) strncpy(obj->doc_comment, yyjson_get_str(v_doc_comment), sizeof(obj->doc_comment)-1);

    yyjson_doc_free(doc);
    return 0;
}

int DefConfigField_to_json(const DefConfigField *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_str(doc, root, "field_type", obj->field_type);
    yyjson_mut_obj_add_str(doc, root, "default_value", obj->default_value);
    yyjson_mut_obj_add_int(doc, root, "range_min", obj->range_min);
    yyjson_mut_obj_add_int(doc, root, "range_max", obj->range_max);
    yyjson_mut_obj_add_int(doc, root, "has_range", obj->has_range);
    yyjson_mut_obj_add_str(doc, root, "doc_comment", obj->doc_comment);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefConfigField_from_json(const char *json, DefConfigField *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_field_type = yyjson_obj_get(root, "field_type");
    if (v_field_type) strncpy(obj->field_type, yyjson_get_str(v_field_type), sizeof(obj->field_type)-1);
    yyjson_val *v_default_value = yyjson_obj_get(root, "default_value");
    if (v_default_value) strncpy(obj->default_value, yyjson_get_str(v_default_value), sizeof(obj->default_value)-1);
    yyjson_val *v_range_min = yyjson_obj_get(root, "range_min");
    if (v_range_min) obj->range_min = yyjson_get_int(v_range_min);
    yyjson_val *v_range_max = yyjson_obj_get(root, "range_max");
    if (v_range_max) obj->range_max = yyjson_get_int(v_range_max);
    yyjson_val *v_has_range = yyjson_obj_get(root, "has_range");
    if (v_has_range) obj->has_range = yyjson_get_int(v_has_range);
    yyjson_val *v_doc_comment = yyjson_obj_get(root, "doc_comment");
    if (v_doc_comment) strncpy(obj->doc_comment, yyjson_get_str(v_doc_comment), sizeof(obj->doc_comment)-1);

    yyjson_doc_free(doc);
    return 0;
}

int DefConfig_to_json(const DefConfig *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_int(doc, root, "field_count", obj->field_count);
    yyjson_mut_obj_add_int(doc, root, "generate_defaults", obj->generate_defaults);
    yyjson_mut_obj_add_int(doc, root, "generate_validate", obj->generate_validate);
    yyjson_mut_obj_add_int(doc, root, "generate_from_ini", obj->generate_from_ini);
    yyjson_mut_obj_add_str(doc, root, "doc_comment", obj->doc_comment);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefConfig_from_json(const char *json, DefConfig *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_field_count = yyjson_obj_get(root, "field_count");
    if (v_field_count) obj->field_count = yyjson_get_int(v_field_count);
    yyjson_val *v_generate_defaults = yyjson_obj_get(root, "generate_defaults");
    if (v_generate_defaults) obj->generate_defaults = yyjson_get_int(v_generate_defaults);
    yyjson_val *v_generate_validate = yyjson_obj_get(root, "generate_validate");
    if (v_generate_validate) obj->generate_validate = yyjson_get_int(v_generate_validate);
    yyjson_val *v_generate_from_ini = yyjson_obj_get(root, "generate_from_ini");
    if (v_generate_from_ini) obj->generate_from_ini = yyjson_get_int(v_generate_from_ini);
    yyjson_val *v_doc_comment = yyjson_obj_get(root, "doc_comment");
    if (v_doc_comment) strncpy(obj->doc_comment, yyjson_get_str(v_doc_comment), sizeof(obj->doc_comment)-1);

    yyjson_doc_free(doc);
    return 0;
}

int DefParseState_to_json(const DefParseState *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_int(doc, root, "const_count", obj->const_count);
    yyjson_mut_obj_add_int(doc, root, "enum_count", obj->enum_count);
    yyjson_mut_obj_add_int(doc, root, "flags_count", obj->flags_count);
    yyjson_mut_obj_add_int(doc, root, "config_count", obj->config_count);
    yyjson_mut_obj_add_int(doc, root, "current_line", obj->current_line);
    yyjson_mut_obj_add_int(doc, root, "error_code", obj->error_code);
    yyjson_mut_obj_add_str(doc, root, "error_msg", obj->error_msg);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefParseState_from_json(const char *json, DefParseState *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_const_count = yyjson_obj_get(root, "const_count");
    if (v_const_count) obj->const_count = yyjson_get_int(v_const_count);
    yyjson_val *v_enum_count = yyjson_obj_get(root, "enum_count");
    if (v_enum_count) obj->enum_count = yyjson_get_int(v_enum_count);
    yyjson_val *v_flags_count = yyjson_obj_get(root, "flags_count");
    if (v_flags_count) obj->flags_count = yyjson_get_int(v_flags_count);
    yyjson_val *v_config_count = yyjson_obj_get(root, "config_count");
    if (v_config_count) obj->config_count = yyjson_get_int(v_config_count);
    yyjson_val *v_current_line = yyjson_obj_get(root, "current_line");
    if (v_current_line) obj->current_line = yyjson_get_int(v_current_line);
    yyjson_val *v_error_code = yyjson_obj_get(root, "error_code");
    if (v_error_code) obj->error_code = yyjson_get_int(v_error_code);
    yyjson_val *v_error_msg = yyjson_obj_get(root, "error_msg");
    if (v_error_msg) strncpy(obj->error_msg, yyjson_get_str(v_error_msg), sizeof(obj->error_msg)-1);

    yyjson_doc_free(doc);
    return 0;
}

int DefGenConfig_to_json(const DefGenConfig *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "input_path", obj->input_path);
    yyjson_mut_obj_add_str(doc, root, "output_dir", obj->output_dir);
    yyjson_mut_obj_add_str(doc, root, "header_guard_prefix", obj->header_guard_prefix);
    yyjson_mut_obj_add_int(doc, root, "xmacro_style", obj->xmacro_style);
    yyjson_mut_obj_add_int(doc, root, "generate_json", obj->generate_json);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int DefGenConfig_from_json(const char *json, DefGenConfig *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_input_path = yyjson_obj_get(root, "input_path");
    if (v_input_path) strncpy(obj->input_path, yyjson_get_str(v_input_path), sizeof(obj->input_path)-1);
    yyjson_val *v_output_dir = yyjson_obj_get(root, "output_dir");
    if (v_output_dir) strncpy(obj->output_dir, yyjson_get_str(v_output_dir), sizeof(obj->output_dir)-1);
    yyjson_val *v_header_guard_prefix = yyjson_obj_get(root, "header_guard_prefix");
    if (v_header_guard_prefix) strncpy(obj->header_guard_prefix, yyjson_get_str(v_header_guard_prefix), sizeof(obj->header_guard_prefix)-1);
    yyjson_val *v_xmacro_style = yyjson_obj_get(root, "xmacro_style");
    if (v_xmacro_style) obj->xmacro_style = yyjson_get_int(v_xmacro_style);
    yyjson_val *v_generate_json = yyjson_obj_get(root, "generate_json");
    if (v_generate_json) obj->generate_json = yyjson_get_int(v_generate_json);

    yyjson_doc_free(doc);
    return 0;
}

