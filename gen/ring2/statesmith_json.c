/* AUTO-GENERATED by schemagen 2.0.0 â€” DO NOT EDIT */
/* JSON serialization (requires yyjson) */

#include "statesmith_json.h"
#include <yyjson.h>
#include <string.h>

int SmithState_to_json(const SmithState *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_str(doc, root, "parent", obj->parent);
    yyjson_mut_obj_add_int(doc, root, "initial", obj->initial);
    yyjson_mut_obj_add_int(doc, root, "final", obj->final);
    yyjson_mut_obj_add_str(doc, root, "entry_action", obj->entry_action);
    yyjson_mut_obj_add_str(doc, root, "exit_action", obj->exit_action);
    yyjson_mut_obj_add_str(doc, root, "do_action", obj->do_action);
    yyjson_mut_obj_add_uint(doc, root, "history", obj->history);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithState_from_json(const char *json, SmithState *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_parent = yyjson_obj_get(root, "parent");
    if (v_parent) strncpy(obj->parent, yyjson_get_str(v_parent), sizeof(obj->parent)-1);
    yyjson_val *v_initial = yyjson_obj_get(root, "initial");
    if (v_initial) obj->initial = yyjson_get_int(v_initial);
    yyjson_val *v_final = yyjson_obj_get(root, "final");
    if (v_final) obj->final = yyjson_get_int(v_final);
    yyjson_val *v_entry_action = yyjson_obj_get(root, "entry_action");
    if (v_entry_action) strncpy(obj->entry_action, yyjson_get_str(v_entry_action), sizeof(obj->entry_action)-1);
    yyjson_val *v_exit_action = yyjson_obj_get(root, "exit_action");
    if (v_exit_action) strncpy(obj->exit_action, yyjson_get_str(v_exit_action), sizeof(obj->exit_action)-1);
    yyjson_val *v_do_action = yyjson_obj_get(root, "do_action");
    if (v_do_action) strncpy(obj->do_action, yyjson_get_str(v_do_action), sizeof(obj->do_action)-1);
    yyjson_val *v_history = yyjson_obj_get(root, "history");
    if (v_history) obj->history = yyjson_get_uint(v_history);

    yyjson_doc_free(doc);
    return 0;
}

int SmithTransition_to_json(const SmithTransition *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "source", obj->source);
    yyjson_mut_obj_add_str(doc, root, "target", obj->target);
    yyjson_mut_obj_add_str(doc, root, "event", obj->event);
    yyjson_mut_obj_add_str(doc, root, "guard", obj->guard);
    yyjson_mut_obj_add_str(doc, root, "action", obj->action);
    yyjson_mut_obj_add_int(doc, root, "order", obj->order);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithTransition_from_json(const char *json, SmithTransition *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_source = yyjson_obj_get(root, "source");
    if (v_source) strncpy(obj->source, yyjson_get_str(v_source), sizeof(obj->source)-1);
    yyjson_val *v_target = yyjson_obj_get(root, "target");
    if (v_target) strncpy(obj->target, yyjson_get_str(v_target), sizeof(obj->target)-1);
    yyjson_val *v_event = yyjson_obj_get(root, "event");
    if (v_event) strncpy(obj->event, yyjson_get_str(v_event), sizeof(obj->event)-1);
    yyjson_val *v_guard = yyjson_obj_get(root, "guard");
    if (v_guard) strncpy(obj->guard, yyjson_get_str(v_guard), sizeof(obj->guard)-1);
    yyjson_val *v_action = yyjson_obj_get(root, "action");
    if (v_action) strncpy(obj->action, yyjson_get_str(v_action), sizeof(obj->action)-1);
    yyjson_val *v_order = yyjson_obj_get(root, "order");
    if (v_order) obj->order = yyjson_get_int(v_order);

    yyjson_doc_free(doc);
    return 0;
}

int SmithEvent_to_json(const SmithEvent *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_int(doc, root, "has_data", obj->has_data);
    yyjson_mut_obj_add_str(doc, root, "data_type", obj->data_type);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithEvent_from_json(const char *json, SmithEvent *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_has_data = yyjson_obj_get(root, "has_data");
    if (v_has_data) obj->has_data = yyjson_get_int(v_has_data);
    yyjson_val *v_data_type = yyjson_obj_get(root, "data_type");
    if (v_data_type) strncpy(obj->data_type, yyjson_get_str(v_data_type), sizeof(obj->data_type)-1);

    yyjson_doc_free(doc);
    return 0;
}

int SmithVariable_to_json(const SmithVariable *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_str(doc, root, "var_type", obj->var_type);
    yyjson_mut_obj_add_str(doc, root, "initial_value", obj->initial_value);
    yyjson_mut_obj_add_int(doc, root, "is_const", obj->is_const);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithVariable_from_json(const char *json, SmithVariable *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_var_type = yyjson_obj_get(root, "var_type");
    if (v_var_type) strncpy(obj->var_type, yyjson_get_str(v_var_type), sizeof(obj->var_type)-1);
    yyjson_val *v_initial_value = yyjson_obj_get(root, "initial_value");
    if (v_initial_value) strncpy(obj->initial_value, yyjson_get_str(v_initial_value), sizeof(obj->initial_value)-1);
    yyjson_val *v_is_const = yyjson_obj_get(root, "is_const");
    if (v_is_const) obj->is_const = yyjson_get_int(v_is_const);

    yyjson_doc_free(doc);
    return 0;
}

int SmithMachine_to_json(const SmithMachine *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "name", obj->name);
    yyjson_mut_obj_add_int(doc, root, "state_count", obj->state_count);
    yyjson_mut_obj_add_int(doc, root, "transition_count", obj->transition_count);
    yyjson_mut_obj_add_int(doc, root, "event_count", obj->event_count);
    yyjson_mut_obj_add_int(doc, root, "variable_count", obj->variable_count);
    yyjson_mut_obj_add_str(doc, root, "initial_state", obj->initial_state);
    yyjson_mut_obj_add_uint(doc, root, "output_format", obj->output_format);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithMachine_from_json(const char *json, SmithMachine *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_name = yyjson_obj_get(root, "name");
    if (v_name) strncpy(obj->name, yyjson_get_str(v_name), sizeof(obj->name)-1);
    yyjson_val *v_state_count = yyjson_obj_get(root, "state_count");
    if (v_state_count) obj->state_count = yyjson_get_int(v_state_count);
    yyjson_val *v_transition_count = yyjson_obj_get(root, "transition_count");
    if (v_transition_count) obj->transition_count = yyjson_get_int(v_transition_count);
    yyjson_val *v_event_count = yyjson_obj_get(root, "event_count");
    if (v_event_count) obj->event_count = yyjson_get_int(v_event_count);
    yyjson_val *v_variable_count = yyjson_obj_get(root, "variable_count");
    if (v_variable_count) obj->variable_count = yyjson_get_int(v_variable_count);
    yyjson_val *v_initial_state = yyjson_obj_get(root, "initial_state");
    if (v_initial_state) strncpy(obj->initial_state, yyjson_get_str(v_initial_state), sizeof(obj->initial_state)-1);
    yyjson_val *v_output_format = yyjson_obj_get(root, "output_format");
    if (v_output_format) obj->output_format = yyjson_get_uint(v_output_format);

    yyjson_doc_free(doc);
    return 0;
}

int SmithRenderConfig_to_json(const SmithRenderConfig *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "file_top", obj->file_top);
    yyjson_mut_obj_add_str(doc, root, "auto_expand_begin", obj->auto_expand_begin);
    yyjson_mut_obj_add_str(doc, root, "auto_expand_end", obj->auto_expand_end);
    yyjson_mut_obj_add_str(doc, root, "output_directory", obj->output_directory);
    yyjson_mut_obj_add_str(doc, root, "output_file_name_no_ext", obj->output_file_name_no_ext);
    yyjson_mut_obj_add_int(doc, root, "use_partial_class", obj->use_partial_class);
    yyjson_mut_obj_add_str(doc, root, "c_file_extension", obj->c_file_extension);
    yyjson_mut_obj_add_str(doc, root, "h_file_extension", obj->h_file_extension);
    yyjson_mut_obj_add_int(doc, root, "c_state_enum_typedef", obj->c_state_enum_typedef);
    yyjson_mut_obj_add_int(doc, root, "c_event_enum_typedef", obj->c_event_enum_typedef);
    yyjson_mut_obj_add_int(doc, root, "c_use_switch_dispatch", obj->c_use_switch_dispatch);
    yyjson_mut_obj_add_int(doc, root, "c_use_packed_enum", obj->c_use_packed_enum);
    yyjson_mut_obj_add_int(doc, root, "trace_enabled", obj->trace_enabled);
    yyjson_mut_obj_add_str(doc, root, "trace_entry", obj->trace_entry);
    yyjson_mut_obj_add_str(doc, root, "trace_exit", obj->trace_exit);
    yyjson_mut_obj_add_str(doc, root, "trace_transition", obj->trace_transition);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithRenderConfig_from_json(const char *json, SmithRenderConfig *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_file_top = yyjson_obj_get(root, "file_top");
    if (v_file_top) strncpy(obj->file_top, yyjson_get_str(v_file_top), sizeof(obj->file_top)-1);
    yyjson_val *v_auto_expand_begin = yyjson_obj_get(root, "auto_expand_begin");
    if (v_auto_expand_begin) strncpy(obj->auto_expand_begin, yyjson_get_str(v_auto_expand_begin), sizeof(obj->auto_expand_begin)-1);
    yyjson_val *v_auto_expand_end = yyjson_obj_get(root, "auto_expand_end");
    if (v_auto_expand_end) strncpy(obj->auto_expand_end, yyjson_get_str(v_auto_expand_end), sizeof(obj->auto_expand_end)-1);
    yyjson_val *v_output_directory = yyjson_obj_get(root, "output_directory");
    if (v_output_directory) strncpy(obj->output_directory, yyjson_get_str(v_output_directory), sizeof(obj->output_directory)-1);
    yyjson_val *v_output_file_name_no_ext = yyjson_obj_get(root, "output_file_name_no_ext");
    if (v_output_file_name_no_ext) strncpy(obj->output_file_name_no_ext, yyjson_get_str(v_output_file_name_no_ext), sizeof(obj->output_file_name_no_ext)-1);
    yyjson_val *v_use_partial_class = yyjson_obj_get(root, "use_partial_class");
    if (v_use_partial_class) obj->use_partial_class = yyjson_get_int(v_use_partial_class);
    yyjson_val *v_c_file_extension = yyjson_obj_get(root, "c_file_extension");
    if (v_c_file_extension) strncpy(obj->c_file_extension, yyjson_get_str(v_c_file_extension), sizeof(obj->c_file_extension)-1);
    yyjson_val *v_h_file_extension = yyjson_obj_get(root, "h_file_extension");
    if (v_h_file_extension) strncpy(obj->h_file_extension, yyjson_get_str(v_h_file_extension), sizeof(obj->h_file_extension)-1);
    yyjson_val *v_c_state_enum_typedef = yyjson_obj_get(root, "c_state_enum_typedef");
    if (v_c_state_enum_typedef) obj->c_state_enum_typedef = yyjson_get_int(v_c_state_enum_typedef);
    yyjson_val *v_c_event_enum_typedef = yyjson_obj_get(root, "c_event_enum_typedef");
    if (v_c_event_enum_typedef) obj->c_event_enum_typedef = yyjson_get_int(v_c_event_enum_typedef);
    yyjson_val *v_c_use_switch_dispatch = yyjson_obj_get(root, "c_use_switch_dispatch");
    if (v_c_use_switch_dispatch) obj->c_use_switch_dispatch = yyjson_get_int(v_c_use_switch_dispatch);
    yyjson_val *v_c_use_packed_enum = yyjson_obj_get(root, "c_use_packed_enum");
    if (v_c_use_packed_enum) obj->c_use_packed_enum = yyjson_get_int(v_c_use_packed_enum);
    yyjson_val *v_trace_enabled = yyjson_obj_get(root, "trace_enabled");
    if (v_trace_enabled) obj->trace_enabled = yyjson_get_int(v_trace_enabled);
    yyjson_val *v_trace_entry = yyjson_obj_get(root, "trace_entry");
    if (v_trace_entry) strncpy(obj->trace_entry, yyjson_get_str(v_trace_entry), sizeof(obj->trace_entry)-1);
    yyjson_val *v_trace_exit = yyjson_obj_get(root, "trace_exit");
    if (v_trace_exit) strncpy(obj->trace_exit, yyjson_get_str(v_trace_exit), sizeof(obj->trace_exit)-1);
    yyjson_val *v_trace_transition = yyjson_obj_get(root, "trace_transition");
    if (v_trace_transition) strncpy(obj->trace_transition, yyjson_get_str(v_trace_transition), sizeof(obj->trace_transition)-1);

    yyjson_doc_free(doc);
    return 0;
}

int SmithInputSource_to_json(const SmithInputSource *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_uint(doc, root, "input_type", obj->input_type);
    yyjson_mut_obj_add_str(doc, root, "file_path", obj->file_path);
    yyjson_mut_obj_add_str(doc, root, "page_name", obj->page_name);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithInputSource_from_json(const char *json, SmithInputSource *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_input_type = yyjson_obj_get(root, "input_type");
    if (v_input_type) obj->input_type = yyjson_get_uint(v_input_type);
    yyjson_val *v_file_path = yyjson_obj_get(root, "file_path");
    if (v_file_path) strncpy(obj->file_path, yyjson_get_str(v_file_path), sizeof(obj->file_path)-1);
    yyjson_val *v_page_name = yyjson_obj_get(root, "page_name");
    if (v_page_name) strncpy(obj->page_name, yyjson_get_str(v_page_name), sizeof(obj->page_name)-1);

    yyjson_doc_free(doc);
    return 0;
}

int SmithProjectConfig_to_json(const SmithProjectConfig *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_str(doc, root, "input_path", obj->input_path);
    yyjson_mut_obj_add_str(doc, root, "input_type", obj->input_type);
    yyjson_mut_obj_add_str(doc, root, "output_dir", obj->output_dir);
    yyjson_mut_obj_add_str(doc, root, "output_lang", obj->output_lang);
    yyjson_mut_obj_add_str(doc, root, "render_config_file", obj->render_config_file);
    yyjson_mut_obj_add_int(doc, root, "validate_only", obj->validate_only);
    yyjson_mut_obj_add_int(doc, root, "dump_graph", obj->dump_graph);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithProjectConfig_from_json(const char *json, SmithProjectConfig *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_input_path = yyjson_obj_get(root, "input_path");
    if (v_input_path) strncpy(obj->input_path, yyjson_get_str(v_input_path), sizeof(obj->input_path)-1);
    yyjson_val *v_input_type = yyjson_obj_get(root, "input_type");
    if (v_input_type) strncpy(obj->input_type, yyjson_get_str(v_input_type), sizeof(obj->input_type)-1);
    yyjson_val *v_output_dir = yyjson_obj_get(root, "output_dir");
    if (v_output_dir) strncpy(obj->output_dir, yyjson_get_str(v_output_dir), sizeof(obj->output_dir)-1);
    yyjson_val *v_output_lang = yyjson_obj_get(root, "output_lang");
    if (v_output_lang) strncpy(obj->output_lang, yyjson_get_str(v_output_lang), sizeof(obj->output_lang)-1);
    yyjson_val *v_render_config_file = yyjson_obj_get(root, "render_config_file");
    if (v_render_config_file) strncpy(obj->render_config_file, yyjson_get_str(v_render_config_file), sizeof(obj->render_config_file)-1);
    yyjson_val *v_validate_only = yyjson_obj_get(root, "validate_only");
    if (v_validate_only) obj->validate_only = yyjson_get_int(v_validate_only);
    yyjson_val *v_dump_graph = yyjson_obj_get(root, "dump_graph");
    if (v_dump_graph) obj->dump_graph = yyjson_get_int(v_dump_graph);

    yyjson_doc_free(doc);
    return 0;
}

int SmithValidationError_to_json(const SmithValidationError *obj, char *buf, size_t size) {
    yyjson_mut_doc *doc = yyjson_mut_doc_new(NULL);
    yyjson_mut_val *root = yyjson_mut_obj(doc);
    yyjson_mut_doc_set_root(doc, root);

    yyjson_mut_obj_add_uint(doc, root, "error_type", obj->error_type);
    yyjson_mut_obj_add_str(doc, root, "message", obj->message);
    yyjson_mut_obj_add_str(doc, root, "state_name", obj->state_name);
    yyjson_mut_obj_add_int(doc, root, "line_number", obj->line_number);

    size_t len = 0;
    char *json_str = yyjson_mut_write(doc, 0, &len);
    yyjson_mut_doc_free(doc);
    if (!json_str) return -1;
    if (len >= size) { free(json_str); return -1; }
    memcpy(buf, json_str, len + 1);
    free(json_str);
    return (int)len;
}

int SmithValidationError_from_json(const char *json, SmithValidationError *obj) {
    yyjson_doc *doc = yyjson_read(json, strlen(json), 0);
    if (!doc) return -1;
    yyjson_val *root = yyjson_doc_get_root(doc);

    yyjson_val *v_error_type = yyjson_obj_get(root, "error_type");
    if (v_error_type) obj->error_type = yyjson_get_uint(v_error_type);
    yyjson_val *v_message = yyjson_obj_get(root, "message");
    if (v_message) strncpy(obj->message, yyjson_get_str(v_message), sizeof(obj->message)-1);
    yyjson_val *v_state_name = yyjson_obj_get(root, "state_name");
    if (v_state_name) strncpy(obj->state_name, yyjson_get_str(v_state_name), sizeof(obj->state_name)-1);
    yyjson_val *v_line_number = yyjson_obj_get(root, "line_number");
    if (v_line_number) obj->line_number = yyjson_get_int(v_line_number);

    yyjson_doc_free(doc);
    return 0;
}

