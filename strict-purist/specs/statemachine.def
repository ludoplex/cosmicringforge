// statemachine.def â€” X-Macro State Machine Specification Format
// Defines the smgen input format using X-macros

// State machine keywords
// SM_KEYWORD(name, syntax, doc)
SM_KEYWORD(machine, "machine Name {",        "State machine declaration")
SM_KEYWORD(initial, "initial: StateName",   "Initial state designation")
SM_KEYWORD(state,   "state Name {",         "State definition")
SM_KEYWORD(entry,   "entry: func()",        "Entry action")
SM_KEYWORD(exit,    "exit: func()",         "Exit action")
SM_KEYWORD(on,      "on Event -> Target",   "Transition definition")

// Transition modifiers
// SM_MODIFIER(name, syntax, doc)
SM_MODIFIER(guard,  "[guard_func]",         "Guard condition function")
SM_MODIFIER(action, "/ action_func()",      "Transition action function")

// Generated code elements
// SM_GEN(element, type, doc)
SM_GEN(state_enum,    enum,  "State enumeration")
SM_GEN(event_enum,    enum,  "Event enumeration")
SM_GEN(context,       struct,"Machine context with current state")
SM_GEN(init_func,     func,  "Initialize machine to initial state")
SM_GEN(dispatch_func, func,  "Dispatch event, execute transitions")
SM_GEN(name_func,     func,  "Get state/event name string")
